% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/single_cell_annotation.R
\name{annotate_cell_types}
\alias{annotate_cell_types}
\title{Single-cell Cell Type Annotation Function}
\usage{
annotate_cell_types(
  seurat_object = NULL,
  background,
  gene_number = 10,
  specific_genes = NULL,
  p_threshold = 0.05,
  markers = NULL,
  selected_clusters = NULL,
  api_key,
  base_url,
  model_name,
  api_format = "openai",
  workers = 4,
  max_retries = 3,
  temperature = 0.3,
  max_tokens = 4000,
  time_out = 200,
  retry_delay = 1,
  log_file = NULL
)
}
\arguments{
\item{seurat_object}{Seurat object (can be NULL if markers parameter is provided)}

\item{background}{Sample background information description}

\item{gene_number}{Number of top genes to select per cluster, default 10}

\item{specific_genes}{User-specified gene list, optional}

\item{p_threshold}{P-value threshold, default 0.05}

\item{markers}{Pre-computed marker gene results (optional, skips FindAllMarkers if provided)}

\item{selected_clusters}{Select specific clusters for annotation, default NULL (annotate all clusters)}

\item{api_key}{API key for the AI service}

\item{base_url}{Base URL for the API}

\item{model_name}{Name of the AI model to use}

\item{api_format}{API format, default "openai"}

\item{workers}{Number of parallel worker processes, default 4}

\item{max_retries}{Maximum number of retry attempts, default 3}

\item{temperature}{API temperature parameter, default 0.3}

\item{max_tokens}{Maximum number of tokens for API, default 4000}

\item{time_out}{Request timeout in seconds, default 200}

\item{retry_delay}{Retry delay in seconds, default 1}

\item{log_file}{Optional log file path to record API requests and responses, default NULL}
}
\value{
A data frame containing annotation results with columns: cluster, cell_type, subtype, confidence, top_genes
}
\description{
This function performs intelligent cell type annotation for single-cell RNA-seq data
using AI models. It can work with Seurat objects or pre-computed marker genes.
}
\examples{
\dontrun{
# Basic usage with Seurat object
result <- annotate_cell_types(
  seurat_object = pbmc,
  background = "Human PBMC sample",
  api_key = "your_api_key",
  base_url = "your_api_url",
  model_name = "gpt-4"
)

# Usage with specific clusters
result <- annotate_cell_types(
  seurat_object = pbmc,
  background = "Human PBMC sample",
  selected_clusters = c("0", "1", "3"),
  api_key = "your_api_key",
  base_url = "your_api_url",
  model_name = "gpt-4"
)
}
}
